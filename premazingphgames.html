<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PremazingPH Games</title>
  <style>
    html, body {
      margin: 0; padding: 0;
      width: 100%; height: 100%;
      overflow: hidden;
    }
    iframe {
      width: 100vw; height: 100vh;
      border: none;
      display: block;
    }
  </style>
</head>
<body>
  <iframe id="viewer"></iframe>
  <script>
    const base64html = `PCFET0NUWVBFIGh0bWw+DQo8aHRtbCBsYW5nPSJlbiI+DQo8aGVhZD4NCjxtZXRhIGNoYXJzZXQ9InV0Zi04IiAvPg0KPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiIC8+DQo8dGl0bGU+U3dpdGNoIEdhbWVzIOKAlCBSZXY2PC90aXRsZT4NCjxzdHlsZT4NCjpyb290ey0tYmc6I2Y0ZjZmODstLXBhbmVsOiNmZmY7LS1tdXRlZDojNmI3MjgwOy0tcHJpbWFyeTojMDM2NmQ2Oy0tYWNjZW50OiNmZjhhMDA7LS1kYW5nZXI6I2VmNDQ0NDstLXJhZGl1czoxMHB4fQ0KKntib3gtc2l6aW5nOmJvcmRlci1ib3h9DQpodG1sLGJvZHl7aGVpZ2h0OjEwMCU7bWFyZ2luOjA7Zm9udC1mYW1pbHk6SW50ZXIsU2Vnb2UgVUksQXJpYWwsc2Fucy1zZXJpZjtiYWNrZ3JvdW5kOnZhcigtLWJnKTtjb2xvcjojMTExfQ0KLmhlYWRlcntwb3NpdGlvbjpmaXhlZDt0b3A6MDtyaWdodDowO2xlZnQ6MDtoZWlnaHQ6NzZweDtiYWNrZ3JvdW5kOnZhcigtLXBhbmVsKTtkaXNwbGF5OmZsZXg7YWxpZ24taXRlbXM6Y2VudGVyO2dhcDoxMnB4O3BhZGRpbmc6MTBweCAxNHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkICNlNmVlZjY7ei1pbmRleDo2MH0NCi5oZWFkZXIgLnNlYXJjaHtmbGV4OjE7bWluLXdpZHRoOjE2MHB4fQ0KLmhlYWRlciBpbnB1dC5zZWFyY2gsIC5oZWFkZXIgYnV0dG9ue2hlaWdodDo0NHB4O2JvcmRlci1yYWRpdXM6MTBweDtib3JkZXI6MXB4IHNvbGlkICNlNmVlZjY7cGFkZGluZzowIDEycHh9DQouaGVhZGVyIC5hY3Rpb25ze2Rpc3BsYXk6ZmxleDtnYXA6OHB4O2FsaWduLWl0ZW1zOmNlbnRlcn0NCi5oZWFkZXIgLnVwbG9hZHtiYWNrZ3JvdW5kOnZhcigtLWFjY2VudCk7Y29sb3I6I2ZmZjtib3JkZXI6bm9uZTtwYWRkaW5nOjEwcHggMTZweDtib3JkZXItcmFkaXVzOjEwcHg7Zm9udC13ZWlnaHQ6NjAwfQ0KLmNvbnRhaW5lcntkaXNwbGF5OmdyaWQ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmciAzODBweDtnYXA6MTJweDtwYWRkaW5nOmNhbGMoNzZweCArIDEycHgpIDEycHggMTZweDtoZWlnaHQ6Y2FsYygxMDB2aCl9DQoubGVmdFBhbmV7YmFja2dyb3VuZDp2YXIoLS1wYW5lbCk7Ym9yZGVyLXJhZGl1czoxMnB4O3BhZGRpbmc6MTJweDtvdmVyZmxvdzphdXRvO2JveC1zaGFkb3c6MCA2cHggMThweCByZ2JhKDEyLDE4LDMwLDAuMDQpfQ0KLnJpZ2h0UGFuZXtiYWNrZ3JvdW5kOnZhcigtLXBhbmVsKTtib3JkZXItcmFkaXVzOjEycHg7cGFkZGluZzoxMnB4O292ZXJmbG93OmhpZGRlbjtib3gtc2hhZG93OjAgNnB4IDE4cHggcmdiYSgxMiwxOCwzMCwwLjA0KTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufQ0KLml0ZW17ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO2FsaWduLWl0ZW1zOmNlbnRlcjtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czo4cHg7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudDtjdXJzb3I6cG9pbnRlcjttYXJnaW4tYm90dG9tOjhweH0NCi5pdGVtOmhvdmVye2JhY2tncm91bmQ6I2ZiZmRmZn0NCi5pdGVtLnNlbGVjdGVke2JhY2tncm91bmQ6IzBiM2I2Njtjb2xvcjojZmZmfQ0KDQoubWV0YXtmb250LXNpemU6MTJweDtjb2xvcjp2YXIoLS1tdXRlZCl9DQouY29udHJvbHN7ZGlzcGxheTpncmlkO2dyaWQtdGVtcGxhdGUtY29sdW1uczoxZnIgMWZyO2dhcDo4cHg7bWFyZ2luLWJvdHRvbTo4cHh9DQouY29udHJvbHMgLmZ1bGx7Z3JpZC1jb2x1bW46MSAvIC0xfQ0KLmZpbGVuYW1lLXByZXZpZXd7Z3JpZC1jb2x1bW46MSAvIC0xO3BhZGRpbmc6OHB4O2JhY2tncm91bmQ6I2Y5ZmFmYjtib3JkZXI6MXB4IHNvbGlkICNlNWU3ZWI7Ym9yZGVyLXJhZGl1czo4cHg7Zm9udC1mYW1pbHk6bW9ub3NwYWNlO292ZXJmbG93LXg6YXV0bzt3aGl0ZS1zcGFjZTpub3dyYXB9DQouaW5mb1Jvd3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjhweDtiYWNrZ3JvdW5kOiNmZmY7bWFyZ2luLXRvcDo4cHg7Ym9yZGVyOjFweCBzb2xpZCAjZjFmNWY5fQ0KLmJ0bntwYWRkaW5nOjhweCAxMnB4O2JvcmRlci1yYWRpdXM6OHB4O2JvcmRlcjpub25lO2JhY2tncm91bmQ6dmFyKC0tcHJpbWFyeSk7Y29sb3I6I2ZmZjtjdXJzb3I6cG9pbnRlcn0NCi5idG4uZ2hvc3R7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtjb2xvcjp2YXIoLS1wcmltYXJ5KTtib3JkZXI6MXB4IHNvbGlkICNlNmVlZjZ9DQouc21hbGx7Zm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tbXV0ZWQpfQ0KLm92ZXJsYXl7cG9zaXRpb246Zml4ZWQ7aW5zZXQ6MDtiYWNrZ3JvdW5kOnJnYmEoMjE1LDI0MCwyNTAsLjk1KTtkaXNwbGF5Om5vbmU7ZmxleC1kaXJlY3Rpb246Y29sdW1uO3otaW5kZXg6MTUwfQ0KLm92ZXJsYXkgLmhlYWR7ZGlzcGxheTpmbGV4O2p1c3RpZnktY29udGVudDpzcGFjZS1iZXR3ZWVuO3BhZGRpbmc6MTJweDtiYWNrZ3JvdW5kOnJnYmEoMCwwLDAsMC41NSk7YWxpZ24taXRlbXM6Y2VudGVyfQ0KLm92ZXJsYXkgLmJvZHl7cGFkZGluZzoxMnB4O292ZXJmbG93OmF1dG87ZmxleDoxfQ0KLm92ZXJsYXkgLnJvd3tkaXNwbGF5OmZsZXg7anVzdGlmeS1jb250ZW50OnNwYWNlLWJldHdlZW47YWxpZ24taXRlbXM6Y2VudGVyO3BhZGRpbmc6OHB4O2JvcmRlci1ib3R0b206MXB4IHNvbGlkIHJnYmEoMjU1LDI1NSwyNTUsMC4wNil9DQoNCi8qIEhpZ2hsaWdodCByZWNlbnRseSBtb3ZlZCBpdGVtICovDQoub3ZlcmxheSAucm93LmhpZ2hsaWdodCB7DQogIGJhY2tncm91bmQ6ICNmZmYzY2Q7ICAgLyogc29mdCB5ZWxsb3cgKi8NCiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjZzIGVhc2U7DQp9DQojZmlsZXNNb2RhbDo6YmFja2Ryb3Agew0KICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuMyk7DQp9DQovKiBSZWQgd2FybmluZyBmb3Igb3ZlcmZsb3cgKi8NCiN0b3RhbHMuZXhjZWVkZWQgew0KICBjb2xvcjogI2MwMDsNCiAgZm9udC13ZWlnaHQ6IGJvbGQ7DQp9DQouYnRuLmRhbmdlciB7DQogIGJhY2tncm91bmQ6ICNjMDA7DQogIGNvbG9yOiAjZmZmOw0KfQ0KDQoNCi5vdmVybGF5IGJ1dHRvbi5pY29ue3BhZGRpbmc6NnB4IDhweDtib3JkZXItcmFkaXVzOjZweDtib3JkZXI6bm9uZTtjdXJzb3I6cG9pbnRlcjttYXJnaW4tbGVmdDo2cHh9DQoub3ZlcmxheSBidXR0b24udXAsIC5vdmVybGF5IGJ1dHRvbi5kb3due2JhY2tncm91bmQ6I2ZmZjtjb2xvcjojMTExfQ0KLm92ZXJsYXkgYnV0dG9uLnJlbW92ZXtiYWNrZ3JvdW5kOnZhcigtLWRhbmdlcik7Y29sb3I6I2ZmZn0NCi5mb290ZXJDb250cm9sc3tkaXNwbGF5OmZsZXg7Z2FwOjhweDtmbGV4LXdyYXA6d3JhcDthbGlnbi1pdGVtczpjZW50ZXJ9DQpAbWVkaWEgKG1heC13aWR0aDo5MDBweCl7DQogIC5jb250YWluZXJ7Z3JpZC10ZW1wbGF0ZS1jb2x1bW5zOjFmcjsgcGFkZGluZy10b3A6Y2FsYyg3NnB4ICsgOHB4KX0NCiAgLnJpZ2h0UGFuZXtvcmRlcjotMX0NCiAgLmhlYWRlcntwYWRkaW5nOjhweH0NCn0NCg0KLyogRGVza3RvcCBzaWRlLWJ5LXNpZGUgc2VsZWN0ZWQgcGFuZWwgKi8NCi5zZWxlY3RlZC1wYW5lbCB7DQogIG1hcmdpbi10b3A6IDEycHg7DQogIGJhY2tncm91bmQ6IHZhcigtLXBhbmVsKTsNCiAgYm9yZGVyOiAxcHggc29saWQgI2U2ZWVmNjsNCiAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgYm94LXNoYWRvdzogMCA0cHggMTJweCByZ2JhKDAsMCwwLDAuMDUpOw0KICBkaXNwbGF5OiBmbGV4Ow0KICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOw0KICBoZWlnaHQ6IDEwMCU7DQogIG92ZXJmbG93OiBoaWRkZW47DQp9DQoNCi5zZWxlY3RlZC1wYW5lbCAuaGVhZCB7DQogIGJhY2tncm91bmQ6ICNmOGZhZmM7DQogIHBhZGRpbmc6IDhweCAxMnB4Ow0KICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2U2ZWVmNjsNCiAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgZm9udC1zaXplOiAxNHB4Ow0KfQ0KDQouc2VsZWN0ZWQtcGFuZWwgLmJvZHkgew0KICBmbGV4OiAxOw0KICBvdmVyZmxvdy15OiBhdXRvOw0KICBmb250LXNpemU6IDEzcHg7DQogIHBhZGRpbmc6IDhweCAxMnB4Ow0KfQ0KDQovKiBIaWRlIG9uIG1vYmlsZSAqLw0KQG1lZGlhIChtYXgtd2lkdGg6IDkwMHB4KSB7DQogIC5zZWxlY3RlZC1wYW5lbCB7DQogICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Ow0KICB9DQp9DQovKiAtLS0gQ29uZmlndXJhdGlvbiBzZWN0aW9uIHZpc2liaWxpdHkgLS0tICovDQouY29uZmlnLXNlY3Rpb24gew0KICB0cmFuc2l0aW9uOiBhbGwgMC4yNXMgZWFzZTsNCn0NCg0KLm1vYmlsZS1vbmx5IHsNCiAgZGlzcGxheTogbm9uZTsNCn0NCg0KLyogTW9iaWxlIGJlaGF2aW9yICovDQpAbWVkaWEgKG1heC13aWR0aDogOTAwcHgpIHsNCiAgLm1vYmlsZS1vbmx5IHsNCiAgICBkaXNwbGF5OiBibG9jazsNCiAgfQ0KDQogIC5jb25maWctc2VjdGlvbiB7DQogICAgZGlzcGxheTogbm9uZTsNCiAgfQ0KDQogIC5jb25maWctc2VjdGlvbi5hY3RpdmUgew0KICAgIGRpc3BsYXk6IGJsb2NrOw0KICB9DQp9DQoNCjwvc3R5bGU+DQo8L2hlYWQ+DQo8Ym9keT4NCiAgPGRpdiBjbGFzcz0iaGVhZGVyIj4NCiAgICA8IS0tPGJ1dHRvbiBpZD0icmVsb2FkQnRuIiBjbGFzcz0iYnRuIGRhbmdlciI+UmVsb2FkPC9idXR0b24+LS0+DQo8aW5wdXQgaWQ9InNlYXJjaCIgY2xhc3M9InNlYXJjaCIgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlNlYXJjaCBnYW1lcy4uLiI+DQogICAgPGRpdiBjbGFzcz0iYWN0aW9ucyI+DQogICAgICA8YnV0dG9uIGlkPSJjbGVhclNlYXJjaCIgY2xhc3M9ImJ0biBnaG9zdCI+fjwvYnV0dG9uPg0KICAgICAgPGJ1dHRvbiBpZD0ic2hvd1NlbGVjdGVkIiBjbGFzcz0iYnRuIGdob3N0Ij5TaG93IFNlbGVjdGVkPC9idXR0b24+DQogICAgICA8YnV0dG9uIGlkPSJ1cGxvYWRCdG4iIGNsYXNzPSJidG4gZ2hvc3QiPlVwbG9hZDwvYnV0dG9uPg0KDQogICAgPC9kaXY+DQogIDwvZGl2Pg0KDQogIDxkaXYgY2xhc3M9ImNvbnRhaW5lciI+DQogICAgPHNlY3Rpb24gY2xhc3M9ImxlZnRQYW5lIiBpZD0ibGVmdFBhbmUiIGFyaWEtbGFiZWw9IkdhbWUgbGlzdCI+DQogICAgICA8IS0tIGxpc3QgaW5qZWN0ZWQgLS0+DQogICAgPC9zZWN0aW9uPg0KDQogICAgPGFzaWRlIGNsYXNzPSJyaWdodFBhbmUiPg0KPCEtLSBDb25maWcgc2VjdGlvbiAtLT4NCjxidXR0b24gaWQ9InRvZ2dsZUNvbmZpZyIgY2xhc3M9ImJ0biBnaG9zdCBtb2JpbGUtb25seSIgc3R5bGU9Im1hcmdpbi1ib3R0b206OHB4OyI+SGlkZSBDb25maWd1cmF0aW9uPC9idXR0b24+DQoNCjxkaXYgaWQ9ImNvbmZpZ1NlY3Rpb24iIGNsYXNzPSJjb25maWctc2VjdGlvbiI+DQogICAgICA8ZGl2IGNsYXNzPSJjb250cm9scyI+DQogICAgICAgIDxpbnB1dCBpZD0iY3VzdG9tZXIiIGNsYXNzPSJmdWxsIiB0eXBlPSJ0ZXh0IiBwbGFjZWhvbGRlcj0iQ3VzdG9tZXIgbmFtZSAodXNlIHVuZGVyc2NvcmVzKSI+DQogICAgICAgIDxkaXYgY2xhc3M9ImZpbGVuYW1lLXByZXZpZXciIGlkPSJmaWxlbmFtZVByZXZpZXciPkZpbGVuYW1lIHByZXZpZXcgd2lsbCBhcHBlYXIgaGVyZeKApjwvZGl2Pg0KCQkNCiAgICAgICAgPGRpdj4NCiAgICAgICAgICA8bGFiZWwgY2xhc3M9InNtYWxsIj5Db25zb2xlPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJjb25zb2xlIiBhcmlhLWxhYmVsPSJDb25zb2xlIHR5cGUiPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0idjEiPnYxPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSJ2MiI+djI8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9ImxpdGUiPmxpdGU8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9Im9sZWQiPm9sZWQ8L29wdGlvbj4NCiAgICAgICAgICA8L3NlbGVjdD4NCiAgICAgICAgPC9kaXY+DQogICAgICAgIDxkaXY+DQogICAgICAgICAgPGxhYmVsIGNsYXNzPSJzbWFsbCI+U0QgQ2FyZCAoR0IpPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJzZCIgYXJpYS1sYWJlbD0iU0QgY2FyZCI+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxMjgiPjEyODwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMjU2Ij4yNTY8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjUxMiI+NTEyPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxMDI0Ij4xMDI0PC9vcHRpb24+DQogICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgIDwvZGl2Pg0KDQogICAgICAgIDxkaXY+DQogICAgICAgICAgPGxhYmVsIGNsYXNzPSJzbWFsbCI+QW5kcm9pZCAoR0IpPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJhbmRyb2lkIiBhcmlhLWxhYmVsPSJhbmRyb2lkIHNpemUiPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMCI+MDwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iMTYiPjE2PC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIzMiI+MzI8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjY0Ij42NDwvb3B0aW9uPg0KICAgICAgICAgIDwvc2VsZWN0Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdj4NCiAgICAgICAgICA8bGFiZWwgY2xhc3M9InNtYWxsIj5MaW51eCAoR0IpPC9sYWJlbD4NCiAgICAgICAgICA8c2VsZWN0IGlkPSJsaW51eCIgYXJpYS1sYWJlbD0ibGludXggc2l6ZSI+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIwIj4wPC9vcHRpb24+DQogICAgICAgICAgICA8b3B0aW9uIHZhbHVlPSIxNiI+MTY8L29wdGlvbj4NCiAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9IjMyIj4zMjwvb3B0aW9uPg0KICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT0iNjQiPjY0PC9vcHRpb24+DQogICAgICAgICAgPC9zZWxlY3Q+DQogICAgICAgIDwvZGl2Pg0KICAgICAgPC9kaXY+DQoNCiAgICAgIDxkaXYgY2xhc3M9ImluZm9Sb3ciIHN0eWxlPSJtYXJnaW4tdG9wOjhweDsiPg0KICAgICAgICA8ZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9InNtYWxsIj5TcGFjZSBmb3IgZ2FtZXM8L2Rpdj4NCiAgICAgICAgICA8ZGl2PjxzdHJvbmcgaWQ9InNwYWNlIj4wPC9zdHJvbmc+IEdCPC9kaXY+DQogICAgICAgIDwvZGl2Pg0KICAgICAgICA8ZGl2Pg0KICAgICAgICAgIDxkaXYgY2xhc3M9InNtYWxsIj5TZWxlY3RlZCBzaXplPC9kaXY+DQogICAgICAgICAgPGRpdj48c3Ryb25nIGlkPSJzZWxlY3RlZFNpemUiPjAuMDA8L3N0cm9uZz4gR0I8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICAgICAgPGRpdiBjbGFzcz0iaW5mb1JvdyIgc3R5bGU9Im1hcmdpbi10b3A6OHB4OyI+DQogICAgICAgIDxkaXY+DQogICAgICAgICAgPGRpdiBjbGFzcz0ic21hbGwiPkluc3RhbGwgZXN0aW1hdGU8L2Rpdj4NCiAgICAgICAgICA8ZGl2PjxzcGFuIGlkPSJpbnN0YWxsRXN0aW1hdGUiPjBoIDBtPC9zcGFuPjwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdj4NCiAgICAgICAgICA8ZGl2IGNsYXNzPSJzbWFsbCI+U2VsZWN0ZWQ8L2Rpdj4NCiAgICAgICAgICA8ZGl2PjxzcGFuIGlkPSJjb3VudCI+MDwvc3Bhbj4gZ2FtZXM8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgICA8L2Rpdj4NCg0KICA8L2Rpdj4NCiAgICAgIDxkaXYgc3R5bGU9Im1hcmdpbi10b3A6MTJweDtkaXNwbGF5OmZsZXg7Z2FwOjhweDthbGlnbi1pdGVtczpjZW50ZXI7Ij4NCiAgICAgICAgPGJ1dHRvbiBpZD0iY29weUxpbmsiIGNsYXNzPSJidG4iPkNvcHkgTGluazwvYnV0dG9uPg0KCQk8aW5wdXQgaWQ9InNoYXJlYWJsZSIgdHlwZT0idGV4dCIgcGxhY2Vob2xkZXI9IlVwbG9hZGVkIGZpbGUgbGluayIgc3R5bGU9ImZsZXg6MTtwYWRkaW5nOjhweDtib3JkZXItcmFkaXVzOjhweDtib3JkZXI6MXB4IHNvbGlkICNlNmVlZjYiIHJlYWRvbmx5Pg0KICAgICAgICA8YnV0dG9uIGlkPSJzYXZlQnRuIiBjbGFzcz0iYnRuIj5TYXZlPC9idXR0b24+PGxhYmVsIGZvcj0iZmlsZUluIiBzdHlsZT0iDQogIGJhY2tncm91bmQ6IzNhNmRmMDsNCiAgY29sb3I6I2ZmZjsNCiAgcGFkZGluZzo1cHggNXB4Ow0KICBib3JkZXItcmFkaXVzOjNweDsNCiAgZm9udC1zaXplOjEycHg7DQogIGN1cnNvcjpwb2ludGVyOw0KICBmb250LWZhbWlseTpzYW5zLXNlcmlmOw0KICBkaXNwbGF5OmlubGluZS1ibG9jazsNCiI+DQogIE9wZW4NCjwvbGFiZWw+DQo8aW5wdXQgaWQ9ImZpbGVJbiIgdHlwZT0iZmlsZSIgYWNjZXB0PSIuQ0xJX1BSTVoiIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjEycHg7ZGlzcGxheTpmbGV4O2dhcDo4cHg7YWxpZ24taXRlbXM6Y2VudGVyO2ZsZXgtd3JhcDp3cmFwIj4NCiAgICAgICAgDQoNCiAgICAgICAgPGJ1dHRvbiBpZD0iYWRtaW5FeHBvcnQiIGNsYXNzPSJidG4gZ2hvc3QiPkV4cG9ydCBBZG1pbjwvYnV0dG9uPg0KICAgICAgICA8YnV0dG9uIGlkPSJiaW5MaXN0IiBjbGFzcz0iYnRuIGdob3N0Ij5VcGxvYWRzPC9idXR0b24+DQoJCTxkaXYgaWQ9ImZpbGVMaXN0Q29udGFpbmVyIiBzdHlsZT0iZGlzcGxheTpub25lOyI+DQoJCSAgPGRpdiBpZD0iYmluRmlsZUxpc3QiPjwvZGl2Pg0KCQk8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KDQogICAgICA8ZGl2IHN0eWxlPSJtYXJnaW4tdG9wOjEycHg7ZmxleDoxO292ZXJmbG93OmF1dG87Zm9udC1zaXplOjEzcHg7Y29sb3I6dmFyKC0tbXV0ZWQpIj4NCiAgICAgICAgPCEtLSBzbWFsbCBoZWxwIC8gc3RhdHVzIGFyZWEgLS0+DQogICAgICAgIDxkaXYgaWQ9InN0YXR1cyI+UmVhZHk8L2Rpdj4NCiAgICAgIDwvZGl2Pg0KPCEtLSBBbHdheXMtdmlzaWJsZSBTZWxlY3RlZCBQYW5lbCAoZGVza3RvcCBvbmx5KSAtLT4NCjxkaXYgaWQ9InNlbGVjdGVkUGFuZWwiIGNsYXNzPSJzZWxlY3RlZC1wYW5lbCI+DQogIDwhLS08ZGl2IGNsYXNzPSJoZWFkIj4NCiAgICA8c3Ryb25nPlNlbGVjdGVkIFRpdGxlcyAoPHNwYW4gaWQ9InNlbGVjdGVkUGFuZWxDb3VudCI+MDwvc3Bhbj4pPC9zdHJvbmc+DQogIDwvZGl2Pi0tPg0KICA8ZGl2IGNsYXNzPSJib2R5IiBpZD0ic2VsZWN0ZWRQYW5lbEJvZHkiPjwvZGl2Pg0KPC9kaXY+DQogICAgPC9hc2lkZT4NCiAgPC9kaXY+DQoNCiAgPCEtLSBTZWxlY3RlZCBvdmVybGF5IC0tPg0KICA8ZGl2IGNsYXNzPSJvdmVybGF5IiBpZD0ib3ZlcmxheSI+DQogICAgPGRpdiBjbGFzcz0iaGVhZCI+PGRpdj48c3Ryb25nPlNlbGVjdGVkIFRpdGxlczwvc3Ryb25nPiDigJQgPHNwYW4gaWQ9Im92ZXJsYXlDb3VudCI+MDwvc3Bhbj48L2Rpdj48ZGl2PjxidXR0b24gaWQ9ImNsb3NlT3ZlcmxheSIgY2xhc3M9ImJ0biBnaG9zdCI+Q2xvc2U8L2J1dHRvbj48L2Rpdj48L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJib2R5IiBpZD0ib3ZlcmxheUJvZHkiPjwvZGl2Pg0KICA8L2Rpdj4NCjxkaXYgaWQ9ImZpbGVzTW9kYWwiIHN0eWxlPSJkaXNwbGF5Om5vbmU7cG9zaXRpb246Zml4ZWQ7dG9wOjUwJTtsZWZ0OjUwJTt0cmFuc2Zvcm06dHJhbnNsYXRlKC01MCUsLTUwJSk7DQogIGJhY2tncm91bmQ6I2ZmZjtwYWRkaW5nOjE2cHg7Ym9yZGVyLXJhZGl1czoxMHB4O2JveC1zaGFkb3c6MCA2cHggMThweCByZ2JhKDAsMCwwLDAuMjUpO3otaW5kZXg6MjAwOw0KICBtYXgtd2lkdGg6NDIwcHg7d2lkdGg6OTAlO21heC1oZWlnaHQ6NzB2aDtvdmVyZmxvdzphdXRvO2ZvbnQtc2l6ZToxM3B4Ij4NCjwvZGl2Pg0KPHNjcmlwdD4NCi8vIFJldjYg4oCUIG1lcmdlZCBVSSArIGZ1bGwgZmVhdHVyZXMNCmNvbnN0IHN0YXRlID0geyBpdGVtczogW10sIHNlbGVjdGVkOiBbXSwgeG1sOiBudWxsLCBsYXN0VXBsb2FkOjAgfTsNCmNvbnN0IGxlZnRQYW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xlZnRQYW5lJyk7DQpjb25zdCBvdmVybGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXknKTsNCmNvbnN0IG92ZXJsYXlCb2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ292ZXJsYXlCb2R5Jyk7DQpjb25zdCBpc01vYmlsZSA9IC9Nb2JpfEFuZHJvaWR8aVBob25lfGlQYWR8aVBvZC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7DQpjb25zdCBpc0xvY2FsID0gZmFsc2U7DQoNCmZ1bmN0aW9uIGRldGVjdEVudmlyb25tZW50KCkgew0KICBjb25zdCB1YSA9IG5hdmlnYXRvci51c2VyQWdlbnQgfHwgbmF2aWdhdG9yLnZlbmRvciB8fCB3aW5kb3cub3BlcmE7DQogIGNvbnN0IGlzTWVzc2VuZ2VyID0gL0ZCQU58RkJBVnxGQl9JQUJ8TWVzc2VuZ2VyL2kudGVzdCh1YSk7DQogIGNvbnN0IGlzSW5zdGFncmFtID0gL0luc3RhZ3JhbS9pLnRlc3QodWEpOw0KICBjb25zdCBpc0ZhY2Vib29rQXBwID0gL0ZCQU58RkJBVi9pLnRlc3QodWEpICYmICFpc01lc3NlbmdlciAmJiAhaXNJbnN0YWdyYW07DQogIGNvbnN0IGlzV2ViVmlldyA9IC9cYnd2XGIvLnRlc3QodWEpIHx8ICh3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUgPT09IGZhbHNlKTsNCg0KICBjb25zdCBlbnYgPSB7DQogICAgaXNNZXNzZW5nZXIsDQogICAgaXNJbnN0YWdyYW0sDQogICAgaXNGYWNlYm9va0FwcCwNCiAgICBpc1dlYlZpZXcNCiAgfTsNCg0KICBpZiAoaXNNZXNzZW5nZXIgfHwgaXNJbnN0YWdyYW0gfHwgaXNXZWJWaWV3KSB7DQogICAgc2hvd0Jhbm5lcigiTWVzc2VuZ2VyIG9yIGluLWFwcCB3ZWJ2aWV3IGRldGVjdGVkLlxuVGhpcyBwYWdlIGlzIGJlc3QgdXNlZCBvbiBhIGZ1bGwgbW9iaWxlIGJyb3dzZXIgb3IgZGVza3RvcCBicm93c2VyLiBidXQgaXQgd2lsbCBwcm9iYWJseSB3b3JrIGFueXdheSIpOw0KICB9DQoNCiAgcmV0dXJuIGVudjsNCn0NCg0KZnVuY3Rpb24gc2hvd0Jhbm5lcihtZXNzYWdlKSB7DQogIGNvbnN0IGJhbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOw0KICBiYW5uZXIudGV4dENvbnRlbnQgPSBtZXNzYWdlOw0KICBiYW5uZXIuc3R5bGUucG9zaXRpb24gPSAiZml4ZWQiOw0KICBiYW5uZXIuc3R5bGUudG9wID0gIjMwJSI7DQogIGJhbm5lci5zdHlsZS5sZWZ0ID0gIjUwJSI7DQogIGJhbm5lci5zdHlsZS50cmFuc2Zvcm0gPSAidHJhbnNsYXRlWCgtNTAlKSI7DQogIGJhbm5lci5zdHlsZS5iYWNrZ3JvdW5kID0gInJnYmEoMCwwLDAsMC44KSI7DQogIGJhbm5lci5zdHlsZS5jb2xvciA9ICIjZmZmIjsNCiAgYmFubmVyLnN0eWxlLnBhZGRpbmcgPSAiMTJweCAxOHB4IjsNCiAgYmFubmVyLnN0eWxlLmJvcmRlclJhZGl1cyA9ICI4cHgiOw0KICBiYW5uZXIuc3R5bGUuZm9udFNpemUgPSAiMTdweCI7DQogIGJhbm5lci5zdHlsZS56SW5kZXggPSAiOTk5OSI7DQogIGJhbm5lci5zdHlsZS5ib3hTaGFkb3cgPSAiMCAycHggNnB4IHJnYmEoMCwwLDAsMC4zKSI7DQogIGJhbm5lci5zdHlsZS50cmFuc2l0aW9uID0gIm9wYWNpdHkgMC41cyBlYXNlIjsNCiAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChiYW5uZXIpOw0KDQogIHNldFRpbWVvdXQoKCkgPT4gYmFubmVyLnN0eWxlLm9wYWNpdHkgPSAiMCIsIDQwMDApOw0KICBzZXRUaW1lb3V0KCgpID0+IGJhbm5lci5yZW1vdmUoKSwgNTAwMCk7DQp9DQoNCmNvbnN0IE1JTl9ERUxBWSA9IDEwMDA7DQpsZXQgbm93ID0gRGF0ZS5ub3coKTsNCmxldCBsYXN0RXhwb3J0VGltZSA9IERhdGUubm93KCk7DQovLyB1dGlscw0KY29uc3QgJCA9IGlkPT5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQpmdW5jdGlvbiBlc2Mocyl7IHJldHVybiAoc3x8JycpLnJlcGxhY2UoLyYvZywnJmFtcDsnKS5yZXBsYWNlKC88L2csJyZsdDsnKS5yZXBsYWNlKC8+L2csJyZndDsnKTsgfQ0KZnVuY3Rpb24gdG9hc3QobXNnKXsgJCgnc3RhdHVzJykudGV4dENvbnRlbnQgPSBtc2c7IHNldFRpbWVvdXQoKCk9PnsgaWYoJCgnc3RhdHVzJykudGV4dENvbnRlbnQgPT09IG1zZykgJCgnc3RhdHVzJykudGV4dENvbnRlbnQgPSAnUmVhZHknOyB9LCAyNTAwKTsgfQ0KDQovLyBzaXplIGhlbHBlcnMNCmZ1bmN0aW9uIHBhcnNlU2l6ZVRleHQocyl7IGlmKCFzKSByZXR1cm4gMDsgY29uc3QgbSA9ICgnJytzKS5tYXRjaCgvKFtcZFwuXSspXHMqKEdpQnxNaUJ8S2lCfEdCfE1CfEtCfEIpL2kpOyBpZighbSkgcmV0dXJuIDA7IGNvbnN0IHY9cGFyc2VGbG9hdChtWzFdKTsgY29uc3QgdT1tWzJdLnRvVXBwZXJDYXNlKCk7IGlmKHU9PT0nQicpIHJldHVybiB2OyBpZih1PT09J0tCJ3x8dT09PSdLSUInKSByZXR1cm4gdioxMDI0OyBpZih1PT09J01CJ3x8dT09PSdNSUInKSByZXR1cm4gdioxMDI0KjEwMjQ7IHJldHVybiB2KjEwMjQqMTAyNCoxMDI0OyB9DQpmdW5jdGlvbiBieXRlc1RvR0IoYil7IHJldHVybiBiLygxMDI0KjEwMjQqMTAyNCk7IH0NCg0KLy8gbG9hZCBYTUwgKHN1cHBvcnQgPGZvbGRlcj4gYW5kIDxnYW1lPikNCmFzeW5jIGZ1bmN0aW9uIGxvYWRYTUwoKXsNCiAgdHJ5ew0KICAgIGNvbnN0IHR4dCA9IGF3YWl0IGZldGNoKCdzd2l0Y2hnYW1lcy54bWwnKS50aGVuKHI9PnIudGV4dCgpKTsNCiAgICBjb25zdCB4bWwgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHR4dCwnYXBwbGljYXRpb24veG1sJyk7DQogICAgc3RhdGUueG1sID0geG1sOw0KICAgIC8vIHByZWZlciBmb2xkZXINCmxldCBpdGVtcyA9IEFycmF5LmZyb20oeG1sLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ZvbGRlcicpKQ0KICAuZmlsdGVyKGYgPT4gZi5nZXRBdHRyaWJ1dGUoJ25hbWUnKSAhPT0gJ05TUCAyMDIxJykgIC8vIPCfkYggc2tpcA0KICAubWFwKGYgPT4gKHsNCiAgICBuYW1lOiBmLmdldEF0dHJpYnV0ZSgnbmFtZScpLA0KICAgIHNpemU6IGYuZ2V0QXR0cmlidXRlKCdzaXplJykgfHwgJzAgR2lCJywNCiAgICBkYXRlOiBmLmdldEF0dHJpYnV0ZSgnZGF0ZU1vZGlmaWVkJykgfHwgJycsDQogICAgZmlsZXM6IEFycmF5LmZyb20oZi5xdWVyeVNlbGVjdG9yQWxsKCdmaWxlJykpLm1hcCh4ID0+IHguZ2V0QXR0cmlidXRlKCduYW1lJykpDQogIH0pKTsNCg0KDQoNCiAgICBpZihpdGVtcy5sZW5ndGg9PT0wKXsgLy8gZmFsbGJhY2sgdG8gZ2FtZSBub2Rlcw0KICAgICAgY29uc3QgZ2FtZXMgPSBBcnJheS5mcm9tKHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnZ2FtZScpKTsNCiAgICAgIGl0ZW1zID0gZ2FtZXMubWFwKGc9Pih7IG5hbWU6IGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RpdGxlJylbMF0/LnRleHRDb250ZW50IHx8ICdVbnRpdGxlZCcsIHNpemU6IGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NpemUnKVswXT8udGV4dENvbnRlbnQgfHwgJzAgTUInLCBmaWxlczogW10gfSkpOw0KICAgIH0NCiAgICBzdGF0ZS5pdGVtcyA9IGl0ZW1zOw0KICAgIHJlbmRlckxpc3QoaXRlbXMpOw0KICB9Y2F0Y2goZSl7IGNvbnNvbGUuZXJyb3IoZSk7IGxlZnRQYW5lLmlubmVySFRNTCA9ICc8ZGl2IHN0eWxlPSJjb2xvcjojYjkxYzFjO3BhZGRpbmc6MTJweCI+RmFpbGVkIHRvIGxvYWQgc3dpdGNoZ2FtZXMueG1sIOKAlCBjaGVjayBwYXRoL0NPUlM8L2Rpdj4nOyB9DQp9DQoNCi8vIHJlbmRlciBsZWZ0IGxpc3QgYW5kIHByZXNlcnZlIHNlbGVjdGlvbiBoaWdobGlnaHRzDQpmdW5jdGlvbiByZW5kZXJMaXN0KGxpc3QpeyBsZWZ0UGFuZS5pbm5lckhUTUwgPSAnJzsgaWYoIWxpc3R8fCFsaXN0Lmxlbmd0aCl7IGxlZnRQYW5lLmlubmVySFRNTCA9ICc8ZGl2IGNsYXNzPSJtZXRhIj5ObyBpdGVtcyBmb3VuZDwvZGl2Pic7IHJldHVybjsgfQ0KICBsaXN0LmZvckVhY2goaXRlbT0+ew0KICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyByb3cuY2xhc3NOYW1lPSdpdGVtJzsgcm93LmRhdGFzZXQubmFtZSA9IGl0ZW0ubmFtZTsgcm93LmRhdGFzZXQuc2l6ZSA9IGl0ZW0uc2l6ZTsNCiAgICByb3cuaW5uZXJIVE1MID0gYCAgPGRpdj4NCiAgICA8YnV0dG9uIGNsYXNzPSJidG4gZ2hvc3QiIHN0eWxlPSJwYWRkaW5nOjJweCA2cHg7Zm9udC1zaXplOjExcHgiDQogICAgICBvbmNsaWNrPSJhbGVydCgnY2xpY2tlZCcpOyBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgc2hvd0ZpbGVzKCcke2VzYyhpdGVtLm5hbWUpfScsICR7SlNPTi5zdHJpbmdpZnkoaXRlbS5maWxlcyl9LCAnJHtlc2MoaXRlbS5zaXplKX0nKSI+PzwvYnV0dG9uPg0KICAgIDxzdHJvbmc+JHtlc2MoaXRlbS5uYW1lKX08L3N0cm9uZz4NCiAgICA8ZGl2IGNsYXNzPSdtZXRhJz4ke2l0ZW0uZGF0ZSA/ICdNb2RpZmllZDogJytlc2MoaXRlbS5kYXRlKSA6ICcnfTwvZGl2Pg0KICA8L2Rpdj4NCiAgPGRpdiBjbGFzcz0nbWV0YSc+JHtlc2MoaXRlbS5zaXplKX08L2Rpdj5gOw0KDQogICAgaWYoc3RhdGUuc2VsZWN0ZWQuc29tZShzPT5zLm5hbWU9PT1pdGVtLm5hbWUpKSByb3cuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsNCiAgICAvLyBhbHQtY2xpY2sgc2hvd3MgZmlsZXMNCiAgICByb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpPT57IGlmKGV2LmFsdEtleSl7IHNob3dGaWxlcyhpdGVtLm5hbWUsIGl0ZW0uZmlsZXMgfHwgW10sIGl0ZW0uc2l6ZSk7IHJldHVybjsgfSB0b2dnbGVTZWxlY3QoaXRlbSwgcm93KTsgfSk7DQogICAgLy9yb3cuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoKT0+IHNob3dGaWxlcyhpdGVtLm5hbWUsIGl0ZW0uZmlsZXN8fFtdLCBpdGVtLnNpemUpKTsNCiAgICBsZWZ0UGFuZS5hcHBlbmRDaGlsZChyb3cpOw0KICB9KTsNCn0NCg0KZnVuY3Rpb24gdG9nZ2xlU2VsZWN0KGl0ZW0sIHJvd0VsKXsgY29uc3QgaWR4ID0gc3RhdGUuc2VsZWN0ZWQuZmluZEluZGV4KHM9PnMubmFtZT09PWl0ZW0ubmFtZSk7IGlmKGlkeD49MCl7IHN0YXRlLnNlbGVjdGVkLnNwbGljZShpZHgsMSk7IGlmKHJvd0VsKSByb3dFbC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpOyBlbHNlIHsgY29uc3QgciA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0nKSkuZmluZCh4PT54LmRhdGFzZXQubmFtZT09PWl0ZW0ubmFtZSk7IGlmKHIpIHIuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTsgfSB9IGVsc2UgeyBzdGF0ZS5zZWxlY3RlZC5wdXNoKHsgbmFtZTppdGVtLm5hbWUsIHNpemU6aXRlbS5zaXplIH0pOyBpZihyb3dFbCkgcm93RWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsgfQ0KICB1cGRhdGVUb3RhbHMoKTsgcmVuZGVyT3ZlcmxheSgpOyB9DQoNCmZ1bmN0aW9uIHJlbmRlck92ZXJsYXkoKSB7DQogIG92ZXJsYXlCb2R5LmlubmVySFRNTCA9ICcnOw0KICBzdGF0ZS5zZWxlY3RlZC5mb3JFYWNoKChzLGkpPT57DQogICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgcm93LmNsYXNzTmFtZT0ncm93JzsNCiAgICByb3cuaW5uZXJIVE1MID0gYA0KICAgICAgPGRpdj4NCiAgICAgICAgPHN0cm9uZz4ke2krMX0uICR7ZXNjKHMubmFtZSl9PC9zdHJvbmc+DQogICAgICAgIDxkaXYgY2xhc3M9J21ldGEnPiR7ZXNjKHMuc2l6ZSl9PC9kaXY+DQogICAgICA8L2Rpdj4NCiAgICAgIDxkaXY+DQogICAgICAgIDxidXR0b24gY2xhc3M9J2ljb24gdXAnPuKGkTwvYnV0dG9uPg0KICAgICAgICA8YnV0dG9uIGNsYXNzPSdpY29uIGRvd24nPuKGkzwvYnV0dG9uPg0KICAgICAgICA8YnV0dG9uIGNsYXNzPSdpY29uIHJlbW92ZSc+4pyVPC9idXR0b24+DQogICAgICA8L2Rpdj5gOw0KDQogICAgLy8gVXANCiAgICByb3cucXVlcnlTZWxlY3RvcignLnVwJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+ew0KICAgICAgaWYoaT4wKXsNCiAgICAgICAgW3N0YXRlLnNlbGVjdGVkW2ktMV0sIHN0YXRlLnNlbGVjdGVkW2ldXSA9IFtzdGF0ZS5zZWxlY3RlZFtpXSwgc3RhdGUuc2VsZWN0ZWRbaS0xXV07DQogICAgICAgIHJlbmRlck92ZXJsYXkoKTsNCiAgICAgICAgcmVuZGVyTGlzdChzdGF0ZS5pdGVtcyk7DQogICAgICAgIHVwZGF0ZVRvdGFscygpOw0KICAgICAgICAvLyBoaWdobGlnaHQgbmV3IHBvc2l0aW9uDQogICAgICAgIG92ZXJsYXlCb2R5LmNoaWxkcmVuW2ktMV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0Jyk7DQogICAgICB9DQogICAgfSk7DQoNCiAgICAvLyBEb3duDQogICAgcm93LnF1ZXJ5U2VsZWN0b3IoJy5kb3duJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+ew0KICAgICAgaWYoaTxzdGF0ZS5zZWxlY3RlZC5sZW5ndGgtMSl7DQogICAgICAgIFtzdGF0ZS5zZWxlY3RlZFtpKzFdLCBzdGF0ZS5zZWxlY3RlZFtpXV0gPSBbc3RhdGUuc2VsZWN0ZWRbaV0sIHN0YXRlLnNlbGVjdGVkW2krMV1dOw0KICAgICAgICByZW5kZXJPdmVybGF5KCk7DQogICAgICAgIHJlbmRlckxpc3Qoc3RhdGUuaXRlbXMpOw0KICAgICAgICB1cGRhdGVUb3RhbHMoKTsNCiAgICAgICAgLy8gaGlnaGxpZ2h0IG5ldyBwb3NpdGlvbg0KICAgICAgICBvdmVybGF5Qm9keS5jaGlsZHJlbltpKzFdLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodCcpOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy8gUmVtb3ZlDQogICAgcm93LnF1ZXJ5U2VsZWN0b3IoJy5yZW1vdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57DQogICAgICBjb25zdCByZW1vdmVkID0gc3RhdGUuc2VsZWN0ZWQuc3BsaWNlKGksMSlbMF07DQogICAgICBjb25zdCBsZWZ0Um93ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpKQ0KICAgICAgICAuZmluZCh4PT54LmRhdGFzZXQubmFtZT09PXJlbW92ZWQubmFtZSk7DQogICAgICBpZihsZWZ0Um93KSBsZWZ0Um93LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7DQogICAgICByZW5kZXJPdmVybGF5KCk7DQogICAgICByZW5kZXJMaXN0KHN0YXRlLml0ZW1zKTsNCiAgICAgIHVwZGF0ZVRvdGFscygpOw0KICAgIH0pOw0KDQogICAgb3ZlcmxheUJvZHkuYXBwZW5kQ2hpbGQocm93KTsNCiAgfSk7DQogICQoJ292ZXJsYXlDb3VudCcpLnRleHRDb250ZW50ID0gc3RhdGUuc2VsZWN0ZWQubGVuZ3RoOw0KDQpyZW5kZXJTZWxlY3RlZFBhbmVsKCk7DQoNCn0NCg0KDQovLyBzaG93L2hpZGUgb3ZlcmxheQ0KJCgnc2hvd1NlbGVjdGVkJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+eyBvdmVybGF5LnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7IHJlbmRlck92ZXJsYXkoKTsgfSk7DQokKCdjbG9zZU92ZXJsYXknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT4gb3ZlcmxheS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnKTsNCg0KLy8gZmlsZXMgbW9kYWwNCmxldCBjdXJyZW50TW9kYWwgPSBudWxsOyAvLyB0cmFjayBvcGVuIG1vZGFsDQpmdW5jdGlvbiBzaG93RmlsZXMobmFtZSwgZmlsZXMsIHNpemUpIHsNCiAgaWYgKCFmaWxlcyB8fCAhZmlsZXMubGVuZ3RoKSB7DQogICAgYWxlcnQoYE5vIGZpbGVzIGZvciAke25hbWV9YCk7DQogICAgcmV0dXJuOw0KICB9DQoNCg0KICAvLyBjbG9zZSBleGlzdGluZyBtb2RhbCBpZiBhbnkNCiAgY29uc3QgbW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmlsZXNNb2RhbCcpOw0KICBtb2RhbC5pbm5lckhUTUwgPSAnJzsgDQogIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICANCiAgLy8gaGVhZGVyDQogIGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOw0KICBoZWFkZXIuaW5uZXJIVE1MID0gYDxzdHJvbmc+JHtlc2MobmFtZSl9PC9zdHJvbmc+PGJyPjxzcGFuIGNsYXNzPSJtZXRhIj5TaXplOiAke2VzYyhzaXplKX0g4oCUICR7ZmlsZXMubGVuZ3RofSBmaWxlczwvc3Bhbj5gOw0KICBtb2RhbC5hcHBlbmRDaGlsZChoZWFkZXIpOw0KDQogIC8vIGZpbGUgbGlzdCB3aXRoIHBhZ2luZw0KICBjb25zdCBsaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogIGxpc3Quc3R5bGUubWFyZ2luVG9wID0gJzhweCc7DQogIG1vZGFsLmFwcGVuZENoaWxkKGxpc3QpOw0KDQogIGxldCBpbmRleCA9IDA7DQogIGNvbnN0IGJhdGNoID0gMjA7IC8vIHNob3cgMjAgYXQgYSB0aW1lDQogIGZ1bmN0aW9uIGxvYWRNb3JlKCkgew0KICAgIGNvbnN0IG5leHQgPSBmaWxlcy5zbGljZShpbmRleCwgaW5kZXgrYmF0Y2gpOw0KICAgIGxpc3QuaW5uZXJIVE1MICs9IG5leHQubWFwKGY9PmVzYyhmKSkuam9pbignPGJyPicpOw0KICAgIGluZGV4ICs9IGJhdGNoOw0KICAgIGlmIChpbmRleCA+PSBmaWxlcy5sZW5ndGgpIHsNCiAgICAgIG1vcmVCdG4ucmVtb3ZlKCk7DQogICAgfQ0KICB9DQogIA0KDQogIC8vIE1vcmUgYnV0dG9uDQogIGNvbnN0IG1vcmVCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgbW9yZUJ0bi50ZXh0Q29udGVudCA9ICdNb3JlJzsNCiAgbW9yZUJ0bi5jbGFzc05hbWUgPSAnYnRuIGdob3N0JzsNCiAgbW9yZUJ0bi5zdHlsZS5tYXJnaW5Ub3AgPSAnMTBweCc7DQogIG1vcmVCdG4ub25jbGljayA9IGxvYWRNb3JlOw0KICBtb2RhbC5hcHBlbmRDaGlsZChtb3JlQnRuKTsNCg0KICAvLyBDbG9zZSBidXR0b24NCiAgY29uc3QgY2xvc2VCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsNCiAgY2xvc2VCdG4udGV4dENvbnRlbnQgPSAnQ2xvc2UnOw0KICBjbG9zZUJ0bi5jbGFzc05hbWUgPSAnYnRuJzsNCiAgY2xvc2VCdG4uc3R5bGUubWFyZ2luVG9wID0gJzEwcHgnOw0KICBjbG9zZUJ0bi5vbmNsaWNrID0gKCk9PnsgbW9kYWwuc3R5bGUuZGlzcGxheT0nbm9uZSc7IG1vZGFsLmlubmVySFRNTD0nJzsgfTsNCiAgbW9kYWwuYXBwZW5kQ2hpbGQoY2xvc2VCdG4pOw0KbG9hZE1vcmUoKTsNCn0NCg0KDQovLyB0b3RhbHMsIGluc3RhbGwgZXN0aW1hdGUsIGZpbGVuYW1lIHByZXZpZXcNCmZ1bmN0aW9uIHVwZGF0ZVRvdGFscygpIHsNCiAgY29uc3QgdG90YWxCeXRlcyA9IHN0YXRlLnNlbGVjdGVkLnJlZHVjZSgoc3VtLCBzKSA9PiBzdW0gKyBwYXJzZVNpemVUZXh0KHMuc2l6ZSksIDApOw0KICBjb25zdCBnYiA9IGJ5dGVzVG9HQih0b3RhbEJ5dGVzKTsNCiAgJCgnc2VsZWN0ZWRTaXplJykudGV4dENvbnRlbnQgPSBnYi50b0ZpeGVkKDIpOw0KDQogIGNvbnN0IGJsb2F0ZWQgPSB0b3RhbEJ5dGVzICogMS4yOw0KICBjb25zdCBzcGVlZCA9IDE0ICogMTAyNCAqIDEwMjQ7DQogIGNvbnN0IHNlY3MgPSBNYXRoLmNlaWwoYmxvYXRlZCAvIHNwZWVkKTsNCiAgJCgnaW5zdGFsbEVzdGltYXRlJykudGV4dENvbnRlbnQgPSBgJHtNYXRoLmZsb29yKHNlY3MvMzYwMCl9aCAke01hdGguZmxvb3IoKHNlY3MlMzYwMCkvNjApfW1gOw0KDQogICQoJ2NvdW50JykudGV4dENvbnRlbnQgPSBzdGF0ZS5zZWxlY3RlZC5sZW5ndGg7DQoNCiAgLy8gc3BhY2UgY2FsY3VsYXRpb24NCiAgY29uc3QgY29uc29sZVZhbCA9ICQoJ2NvbnNvbGUnKS52YWx1ZTsNCiAgY29uc3Qgc2RWYWwgPSBOdW1iZXIoJCgnc2QnKS52YWx1ZSk7DQogIGNvbnN0IGFuZHJvaWQgPSBOdW1iZXIoJCgnYW5kcm9pZCcpLnZhbHVlKTsNCiAgY29uc3QgbGludXggPSBOdW1iZXIoJCgnbGludXgnKS52YWx1ZSk7DQogIGNvbnN0IGp2ZmlsZSA9IDE7DQogIGNvbnN0IGVtdSA9IGNvbnNvbGVWYWwgPT09ICdvbGVkJyA/IDY0IDogMzI7DQogIGNvbnN0IGJ1ZmZhID0gTWF0aC5mbG9vcihlbXUgLyAzKTsNCiAgY29uc3QgdG90YWxSZXNlcnZlZCA9IGVtdSArIGFuZHJvaWQgKyBsaW51eCArIGp2ZmlsZSArIGJ1ZmZhOw0KICBjb25zdCBleHRyYSA9IE1hdGguZmxvb3IoZW11IC8gMik7DQogIGNvbnN0IHNwYWNlRm9yR2FtZXMgPSAoc2RWYWwgLSB0b3RhbFJlc2VydmVkKSArIGV4dHJhOw0KDQogICQoJ3NwYWNlJykudGV4dENvbnRlbnQgPSBpc0Zpbml0ZShzcGFjZUZvckdhbWVzKSA/IHNwYWNlRm9yR2FtZXMgOiAwOw0KDQogIC8vIGhpZ2hsaWdodCB3YXJuaW5nIGlmIGV4Y2VlZGVkDQogIGlmIChnYiA+IHNwYWNlRm9yR2FtZXMpIHsNCiAgICAkKCdzZWxlY3RlZFNpemUnKS5zdHlsZS5jb2xvciA9ICcjYzAwJzsNCiAgICAkKCdzZWxlY3RlZFNpemUnKS5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnOw0KICB9IGVsc2Ugew0KICAgICQoJ3NlbGVjdGVkU2l6ZScpLnN0eWxlLmNvbG9yID0gJyc7DQogICAgJCgnc2VsZWN0ZWRTaXplJykuc3R5bGUuZm9udFdlaWdodCA9ICcnOw0KICB9DQoNCiAgLy8gZmlsZW5hbWUgcHJldmlldw0KICB1cGRhdGVGaWxlbmFtZVByZXZpZXcoKTsNCn0NCg0KDQoNCg0KDQpmdW5jdGlvbiB1cGRhdGVGaWxlbmFtZVByZXZpZXcoKXsgY29uc3QgY3VzdG9tZXIgPSAoICQoJ2N1c3RvbWVyJykudmFsdWUgfHwgJ2N1c3RvbWVyJykudHJpbSgpLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCdfJykudG9Mb3dlckNhc2UoKTsgY29uc3QgY29uc29sZVRva2VuID0gJCgnY29uc29sZScpLnZhbHVlIHx8ICd2MSc7IGNvbnN0IHNkVG9rZW4gPSAnc2QnICsgKCQoJ3NkJykudmFsdWUgfHwgJzAnKTsgY29uc3QgZHJvaWQgPSAnZHJvaWQnICsgKCQoJ2FuZHJvaWQnKS52YWx1ZSB8fCAnMCcpOyBjb25zdCBsaW4gPSAnbGluJyArICgkKCdsaW51eCcpLnZhbHVlIHx8ICcwJyk7IGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7IGNvbnN0IHN0YW1wID0gbm93LmdldEZ1bGxZZWFyKCkudG9TdHJpbmcoKSArIFN0cmluZyhub3cuZ2V0TW9udGgoKSsxKS5wYWRTdGFydCgyLCcwJykgKyBTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwnMCcpICsgU3RyaW5nKG5vdy5nZXRIb3VycygpKS5wYWRTdGFydCgyLCcwJykgKyBTdHJpbmcobm93LmdldE1pbnV0ZXMoKSkucGFkU3RhcnQoMiwnMCcpICsgU3RyaW5nKG5vdy5nZXRTZWNvbmRzKCkpLnBhZFN0YXJ0KDIsJzAnKTsgJCgnZmlsZW5hbWVQcmV2aWV3JykudGV4dENvbnRlbnQgPSBgJHtjdXN0b21lcn1fJHtjb25zb2xlVG9rZW59XyR7c2RUb2tlbn1fJHtkcm9pZH1fJHtsaW59XyR7c3RhbXB9LkNMSV9QUk1aYDsgfQ0KDQovLyBwYXJzZSBzaXplIHN0cmluZ3MgdXNlZCBieSBvcmlnaW5hbCB4bWwgKGUuZy4gIjEuMiBHaUIiIG9yICI2MjAgTUIiKQ0KZnVuY3Rpb24gcGFyc2VTaXplVGV4dCh0eHQpeyBpZighdHh0KSByZXR1cm4gMDsgY29uc3QgbSA9ICgnJyt0eHQpLm1hdGNoKC8oW1xkXC5dKylccyooR2lCfE1pQnxLaUJ8R0J8TUJ8S0J8QikvaSk7IGlmKCFtKSByZXR1cm4gMDsgY29uc3QgdiA9IHBhcnNlRmxvYXQobVsxXSk7IGNvbnN0IHUgPSBtWzJdLnRvVXBwZXJDYXNlKCk7IGlmKHU9PT0nQicpIHJldHVybiB2OyBpZih1PT09J0tCJ3x8dT09PSdLSUInKSByZXR1cm4gdioxMDI0OyBpZih1PT09J01CJ3x8dT09PSdNSUInKSByZXR1cm4gdioxMDI0KjEwMjQ7IHJldHVybiB2KjEwMjQqMTAyNCoxMDI0OyB9DQoNCi8vIHdpcmUgY29udHJvbHMNCiQoJ3NlYXJjaCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZGVib3VuY2UoKGUpPT57IGNvbnN0IHE9KGUudGFyZ2V0LnZhbHVlfHwnJykudG9Mb3dlckNhc2UoKTsgcmVuZGVyTGlzdChzdGF0ZS5pdGVtcy5maWx0ZXIoaXQ9PiAoaXQubmFtZXx8JycpLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocSkpKTsgfSwxODApKTsNCiQoJ2NsZWFyU2VhcmNoJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+eyAkKCdzZWFyY2gnKS52YWx1ZT0nJzsgcmVuZGVyTGlzdChzdGF0ZS5pdGVtcyk7ICQoJ3NlYXJjaCcpLmZvY3VzKCk7IH0pOw0KWydjdXN0b21lcicsJ2NvbnNvbGUnLCdzZCcsJ2FuZHJvaWQnLCdsaW51eCddLmZvckVhY2goaWQ9PnsgY29uc3QgZWw9JChpZCk7IGlmKGVsKXsgZWwuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKT0+IHVwZGF0ZUZpbGVuYW1lUHJldmlldygpKTsgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCk9PiB1cGRhdGVUb3RhbHMoKSk7IH19KTsNCg0KLy8gaW1wb3J0IC5DTElfUFJNWiAocmVzdG9yZSBzZWxlY3Rpb25zICsgcGFyc2UgZmlsZW5hbWUpDQokKCdmaWxlSW4nKS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXYpPT57DQogIGNvbnN0IGYgPSBldi50YXJnZXQuZmlsZXNbMF07IGlmKCFmKSByZXR1cm47IGNvbnN0IGNmZyA9IHBhcnNlRmlsZW5hbWVUb0NvbmZpZyhmLm5hbWUpOyBpZihjZmcpeyAkKCdjdXN0b21lcicpLnZhbHVlID0gY2ZnLmN1c3RvbWVyOyAvLyBzZXQgY29uc29sZSBpZiBhdmFpbGFibGUNCiAgICBBcnJheS5mcm9tKCQoJ2NvbnNvbGUnKS5vcHRpb25zKS5mb3JFYWNoKG89PnsgaWYoby52YWx1ZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGNmZy5jb25zb2xlVG9rZW4pKSBvLnNlbGVjdGVkID0gdHJ1ZTsgfSk7IGlmKC9ec2RcZCskLy50ZXN0KGNmZy5zZFRva2VuKSkgJCgnc2QnKS52YWx1ZSA9IE51bWJlcihjZmcuc2RUb2tlbi5yZXBsYWNlKC9cRC9nLCcnKSk7IGlmKC9eZHJvaWRcZCskLy50ZXN0KGNmZy5kcm9pZFRva2VuKSkgJCgnYW5kcm9pZCcpLnZhbHVlID0gTnVtYmVyKGNmZy5kcm9pZFRva2VuLnJlcGxhY2UoL1xEL2csJycpKTsgaWYoL15saW5cZCskLy50ZXN0KGNmZy5saW5Ub2tlbikpICQoJ2xpbnV4JykudmFsdWUgPSBOdW1iZXIoY2ZnLmxpblRva2VuLnJlcGxhY2UoL1xEL2csJycpKTsgdXBkYXRlRmlsZW5hbWVQcmV2aWV3KCk7IHVwZGF0ZVRvdGFscygpOyB9DQogIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7IHJlYWRlci5vbmxvYWQgPSAoZSk9PnsgY29uc3QgbGluZXMgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoJ1xuJykubWFwKHM9PnMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7IC8vIGNsZWFyIGV4aXN0aW5nIHNlbGVjdGlvbg0KICAgIHN0YXRlLnNlbGVjdGVkPVtdOyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpLmZvckVhY2goaT0+aS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTsNCiAgICBsaW5lcy5mb3JFYWNoKHRpdGxlPT57IGNvbnN0IGxlZnQgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJykpLmZpbmQoaT0+aS5kYXRhc2V0Lm5hbWU9PT10aXRsZSk7IGlmKGxlZnQpeyBsZWZ0LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7IHN0YXRlLnNlbGVjdGVkLnB1c2goeyBuYW1lOmxlZnQuZGF0YXNldC5uYW1lLCBzaXplOmxlZnQuZGF0YXNldC5zaXplIH0pOyB9IGVsc2UgeyBjb25zdCBtYXliZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLml0ZW0nKSkuZmluZChpPT5pLmRhdGFzZXQubmFtZSAmJiBpLmRhdGFzZXQubmFtZS50b0xvd2VyQ2FzZSgpPT09dGl0bGUudG9Mb3dlckNhc2UoKSk7IGlmKG1heWJlKXsgbWF5YmUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTsgc3RhdGUuc2VsZWN0ZWQucHVzaCh7IG5hbWU6bWF5YmUuZGF0YXNldC5uYW1lLCBzaXplOm1heWJlLmRhdGFzZXQuc2l6ZSB9KTsgfSB9IH0pOyB1cGRhdGVUb3RhbHMoKTsgcmVuZGVyT3ZlcmxheSgpOyB9Ow0KICByZWFkZXIucmVhZEFzVGV4dChmKTsNCn0pOw0KDQovLyBleHBvcnQgY2xpZW50IChkb3dubG9hZCBsaXN0KQ0KJCgnc2F2ZUJ0bicpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57DQoNCiAgbm93ID0gRGF0ZS5ub3coKTsNCiAgaWYgKG5vdyAtIGxhc3RFeHBvcnRUaW1lIDwgTUlOX0RFTEFZKSB7DQogICAgdG9hc3QoJ1BsZWFzZSB3YWl0IGJlZm9yZSBleHBvcnRpbmcgYWdhaW4nKTsNCiAgICBhbGVydCgnUGxlYXNlIHdhaXQgYmVmb3JlIGV4cG9ydGluZyBhZ2FpbicpOw0KICAgIHJldHVybjsNCiAgfQ0KICBsYXN0RXhwb3J0VGltZSA9IG5vdzsNCg0KICBpZihzdGF0ZS5zZWxlY3RlZC5sZW5ndGg9PT0wKXsgYWxlcnQoJ05vIGl0ZW1zIHNlbGVjdGVkJyk7IHJldHVybjsgfQ0KICBjb25zdCBjdXN0ID0gKCQoJ2N1c3RvbWVyJykudmFsdWV8fCcnKS50cmltKCk7IGlmKCFjdXN0KXsgYWxlcnQoJ0N1c3RvbWVyIG5hbWUgcmVxdWlyZWQnKTsgcmV0dXJuOyB9DQogIGNvbnN0IGZpbGVuYW1lID0gJCgnZmlsZW5hbWVQcmV2aWV3JykudGV4dENvbnRlbnQgfHwgJ2xpc3QuQ0xJX1BSTVonOw0KICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3N0YXRlLnNlbGVjdGVkLm1hcChzPT5zLm5hbWUpLmpvaW4oJ1xuJyldLCB7IHR5cGU6J3RleHQvcGxhaW4nIH0pOyBjb25zdCBhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpOyBhLmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpOyBhLmRvd25sb2FkID0gZmlsZW5hbWU7IGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYSk7IGEuY2xpY2soKTsgYS5yZW1vdmUoKTsgVVJMLnJldm9rZU9iamVjdFVSTChhLmhyZWYpOyB0b2FzdCgnU2F2ZWQgY2xpZW50IGZpbGUnKTsNCn0pOw0KDQovLyBhZG1pbiBleHBvcnQgKGZ1bGwgcGF0aHMpDQokKCdhZG1pbkV4cG9ydCcpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpPT57DQoNCiAgbm93ID0gRGF0ZS5ub3coKTsNCiAgaWYgKG5vdyAtIGxhc3RFeHBvcnRUaW1lIDwgTUlOX0RFTEFZKSB7DQogICAgdG9hc3QoJ1BsZWFzZSB3YWl0IGJlZm9yZSBleHBvcnRpbmcgYWdhaW4nKTsNCiAgICBhbGVydCgnUGxlYXNlIHdhaXQgYmVmb3JlIGV4cG9ydGluZyBhZ2FpbicpOw0KICAgIHJldHVybjsNCiAgfQ0KICBsYXN0RXhwb3J0VGltZSA9IG5vdzsNCg0KICBpZihzdGF0ZS5zZWxlY3RlZC5sZW5ndGg9PT0wKXsgYWxlcnQoJ05vIGl0ZW1zIHNlbGVjdGVkJyk7IHJldHVybjsgfQ0KICBjb25zdCBjdXN0ID0gKCQoJ2N1c3RvbWVyJykudmFsdWV8fCcnKS50cmltKCk7IGlmKCFjdXN0KXsgYWxlcnQoJ0MnKTsgcmV0dXJuOyB9DQogIHRyeXsgY29uc3QgeG1sdHh0ID0gYXdhaXQgZmV0Y2goJ3N3aXRjaGdhbWVzLnhtbCcpLnRoZW4ocj0+ci50ZXh0KCkpOyBjb25zdCB4bWwgPSBuZXcgRE9NUGFyc2VyKCkucGFyc2VGcm9tU3RyaW5nKHhtbHR4dCwnYXBwbGljYXRpb24veG1sJyk7IGxldCBjb250ZW50PScnOyBzdGF0ZS5zZWxlY3RlZC5mb3JFYWNoKHNlbD0+eyBjb25zdCBmb2xkZXIgPSBBcnJheS5mcm9tKHhtbC5xdWVyeVNlbGVjdG9yQWxsKCdmb2xkZXInKSkuZmluZChmPT5mLmdldEF0dHJpYnV0ZSgnbmFtZScpPT09c2VsLm5hbWUpOyBpZihmb2xkZXIpeyBjb25zdCBiYXNlID0gJ0s6XFxOU1AgMjAyMVxcJzsgZm9sZGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ZpbGUnKS5mb3JFYWNoKGZpbGU9PiBjb250ZW50ICs9IGAke2Jhc2V9JHtmb2xkZXIuZ2V0QXR0cmlidXRlKCduYW1lJyl9XFwke2ZpbGUuZ2V0QXR0cmlidXRlKCduYW1lJyl9XG5gKTsgfSB9KTsgY29uc3Qgbm93ID0gbmV3IERhdGUoKTsgY29uc3Qgc3RhbXAgPSBgJHtub3cuZ2V0RnVsbFllYXIoKX0ke1N0cmluZyhub3cuZ2V0TW9udGgoKSsxKS5wYWRTdGFydCgyLCcwJyl9JHtTdHJpbmcobm93LmdldERhdGUoKSkucGFkU3RhcnQoMiwnMCcpfV8ke1N0cmluZyhub3cuZ2V0SG91cnMoKSkucGFkU3RhcnQoMiwnMCcpfSR7U3RyaW5nKG5vdy5nZXRNaW51dGVzKCkpLnBhZFN0YXJ0KDIsJzAnKX1gOyBjb25zdCBmbmFtZSA9IGAkeyhjdXN0fHwnY3VzdG9tZXInKS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywnXycpfV8ke3N0YW1wfS5QUk1aYDsgY29uc3QgYmxvYiA9IG5ldyBCbG9iKFtjb250ZW50XSwgeyB0eXBlOid0ZXh0L3BsYWluJyB9KTsgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTsgYS5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTsgYS5kb3dubG9hZCA9IGZuYW1lOyBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpOyBhLmNsaWNrKCk7IGEucmVtb3ZlKCk7IFVSTC5yZXZva2VPYmplY3RVUkwoYS5ocmVmKTsgdG9hc3QoJ0FkbWluIGV4cG9ydCByZWFkeScpOyB9Y2F0Y2goZSl7IGNvbnNvbGUuZXJyb3IoZSk7IHRvYXN0KCdBZG1pbiBleHBvcnQgZmFpbGVkJyk7IH0NCn0pOw0KDQovLyB1cGxvYWQgbG9naWMgKGZpbGViaW4gdGhlbiBnb2ZpbGUpDQokKCd1cGxvYWRCdG4nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpPT57DQoNCiAgaWYoc3RhdGUuc2VsZWN0ZWQubGVuZ3RoPT09MCl7IGFsZXJ0KCdObyBpdGVtcyBzZWxlY3RlZCcpOyByZXR1cm47IH0NCiAgY29uc3QgY3VzdCA9ICgkKCdjdXN0b21lcicpLnZhbHVlfHwnJykudHJpbSgpOyBpZighY3VzdCl7IGFsZXJ0KCdDdXN0b21lciByZXF1aXJlZCcpOyByZXR1cm47IH0NCiAgaWYoIWNvbmZpcm0oYFVwbG9hZCBsaXN0IGZvciAke2N1c3R9P2ApKSByZXR1cm47IGNvbnN0IGZpbGVuYW1lID0gJCgnZmlsZW5hbWVQcmV2aWV3JykudGV4dENvbnRlbnQgfHwgJ2xpc3QuQ0xJX1BSTVonOyBjb25zdCBibG9iID0gbmV3IEJsb2IoW3N0YXRlLnNlbGVjdGVkLm1hcChzPT5zLm5hbWUpLmpvaW4oJ1xuJyldLCB7IHR5cGU6J3RleHQvcGxhaW4nIH0pOyBjb25zdCBub3cgPSBEYXRlLm5vdygpOyBpZihub3cgLSBzdGF0ZS5sYXN0VXBsb2FkIDwgMTUwMDApeyBhbGVydCgnUGxlYXNlIHdhaXQgMTUgc2Vjb25kcyBiZXR3ZWVuIHVwbG9hZHMnKTsgcmV0dXJuOyB9DQogIHRyeXsgY29uc3QgYmluID0gJ3hsZzRrZ2dvemJkZ3NudzQnOyBjb25zdCB1cmwgPSBgaHR0cHM6Ly9maWxlYmluLm5ldC8ke2Jpbn0vJHtmaWxlbmFtZX1gOyBjb25zdCByID0gYXdhaXQgZmV0Y2godXJsLHsgbWV0aG9kOidQT1NUJywgaGVhZGVyczp7ICdDb250ZW50LVR5cGUnOid0ZXh0L3BsYWluJyB9LCBib2R5OiBibG9iIH0pOyANCg0KaWYoci5vayB8fCByLnN0YXR1cz09PTIwMSl7IHN0YXRlLmxhc3RVcGxvYWQgPSBub3c7ICQoJ3NoYXJlYWJsZScpLnZhbHVlID0gYGh0dHBzOi8vZmlsZWJpbi5uZXQvJHtiaW59LyR7ZmlsZW5hbWV9YDsgdG9hc3QoJ1VwbG9hZGVkIHRvIGZpbGViaW4nKTsgDQogICAgICAvLyAgQXV0by1oaWRlIGNvbmZpZyBhZnRlciBzdWNjZXNzDQogICAgICBpZiAoY29uZmlnU2VjdGlvbiAmJiB0b2dnbGVCdG4gJiYgY29uZmlnU2VjdGlvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSB7DQogICAgICAgIGNvbmZpZ1NlY3Rpb24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7DQogICAgICAgIHRvZ2dsZUJ0bi50ZXh0Q29udGVudCA9ICdTaG93IENvbmZpZ3VyYXRpb24nOw0KICAgICAgfQ0KcmV0dXJuOyANCn0gfWNhdGNoKGUpeyBjb25zb2xlLndhcm4oJ2ZpbGViaW4gZXJyb3InLCBlKTsgfQ0KICB0cnl7IGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTsgZm9ybS5hcHBlbmQoJ2ZpbGUnLCBibG9iLCBmaWxlbmFtZSk7IGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwczovL3VwbG9hZC5nb2ZpbGUuaW8vdXBsb2FkRmlsZScsIHsgbWV0aG9kOidQT1NUJywgYm9keTogZm9ybSB9KTsgY29uc3QgaiA9IGF3YWl0IHJlcy5qc29uKCk7IGlmKGouc3RhdHVzID09PSAnb2snKXsgc3RhdGUubGFzdFVwbG9hZCA9IG5vdzsgJCgnc2hhcmVhYmxlJykudmFsdWUgPSBqLmRhdGEuZG93bmxvYWRQYWdlOyB0b2FzdCgnVXBsb2FkZWQgdG8gR29GaWxlJyk7IHJldHVybjsgfSB0b2FzdCgnVXBsb2FkIGZhaWxlZCcpOyB9Y2F0Y2goZSl7IGNvbnNvbGUuZXJyb3IoZSk7IHRvYXN0KCdVcGxvYWQgZXJyb3InKTsgfQ0KfSk7DQoNCi8vIGJpbiBsaXN0DQokKCdiaW5MaXN0Jyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gew0KICB0cnkgew0KICAgIGNvbnN0IGJpbiA9ICd4bGc0a2dnb3piZGdzbnc0JzsNCiAgICBjb25zdCByID0gYXdhaXQgZmV0Y2goYGh0dHBzOi8vZmlsZWJpbi5uZXQvJHtiaW59P2pzb25gLCB7DQogICAgICBoZWFkZXJzOiB7ICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIgfQ0KICAgIH0pOw0KICAgIGlmICghci5vaykgeyB0b2FzdChgRmFpbGVkIHRvIGZldGNoIHVwbG9hZHM6ICR7ci5zdGF0dXNUZXh0fWApOyByZXR1cm47IH0NCg0KICAgIGxldCBqOw0KICAgIHRyeSB7DQogICAgICBqID0gYXdhaXQgci5qc29uKCk7DQogICAgfSBjYXRjaCAoZXJyKSB7DQogICAgICB0b2FzdCgiRmFpbGVkIHRvIHBhcnNlIHNlcnZlciByZXNwb25zZSIpOw0KICAgICAgY29uc29sZS5lcnJvcihlcnIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIGlmICghai5maWxlcyB8fCAhai5maWxlcy5sZW5ndGgpIHsgdG9hc3QoJ05vIGZpbGVzIGZvdW5kJyk7IHJldHVybjsgfQ0KDQogICAgLy8gc29ydCBhbmQgdHJpbQ0KICAgIGNvbnN0IHNvcnRlZCA9IGouZmlsZXMuc29ydCgoYSxiKT0+IG5ldyBEYXRlKGIudXBkYXRlZF9hdCkgLSBuZXcgRGF0ZShhLnVwZGF0ZWRfYXQpKTsNCiAgICBjb25zdCByZWNlbnQgPSBzb3J0ZWQuc2xpY2UoMCwxMCk7DQoNCiAgICBsZXQgaHRtbCA9ICc8YnV0dG9uIGlkPSJjbG9zZUJpbiI+Q2xvc2U8L2J1dHRvbj48dWw+JzsNCiAgICByZWNlbnQuZm9yRWFjaChmaWxlID0+IHsNCiAgICAgIGNvbnN0IGZpbGVVcmwgPSBgaHR0cHM6Ly9maWxlYmluLm5ldC8ke2Jpbn0vJHtlbmNvZGVVUklDb21wb25lbnQoZmlsZS5maWxlbmFtZSl9YDsNCiAgICAgIGNvbnN0IGFkZGVkRGF0ZSA9IG5ldyBEYXRlKGZpbGUudXBkYXRlZF9hdCk7DQogICAgICBjb25zdCBmb3JtYXR0ZWREYXRlID0gYWRkZWREYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwxMCkucmVwbGFjZSgvLS9nLCcnKTsNCiAgICAgIGNvbnN0IGhvdXJzID0gYWRkZWREYXRlLmdldEhvdXJzKCk7DQogICAgICBjb25zdCBtaW51dGVzID0gYWRkZWREYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsJzAnKTsNCiAgICAgIGNvbnN0IGFtcG0gPSBob3VycyA+PSAxMiA/ICdQTSc6J0FNJzsNCiAgICAgIGNvbnN0IGZvcm1hdHRlZFRpbWUgPSBgJHtob3VycyAlIDEyIHx8IDEyfToke21pbnV0ZXN9ICR7YW1wbX1gOw0KICAgICAgY29uc3Qgc3RyaXBwZWROYW1lID0gZmlsZS5maWxlbmFtZS5zcGxpdCgnLicpLnNsaWNlKDAsLTEpLmpvaW4oJy4nKTsNCiAgICAgIGNvbnN0IGZpbGVTaXplID0gZmlsZS5ieXRlc19yZWFkYWJsZSB8fCAnJzsNCiAgICAgIGh0bWwgKz0gYDxsaT48YSBocmVmPSIke2ZpbGVVcmx9IiB0YXJnZXQ9Il9ibGFuayI+JHtmb3JtYXR0ZWREYXRlfSAke2Zvcm1hdHRlZFRpbWV9IHwgJHtzdHJpcHBlZE5hbWV9IHwgJHtmaWxlU2l6ZX08L2E+PC9saT5gOw0KICAgIH0pOw0KICAgIGh0bWwgKz0gJzwvdWw+JzsNCg0KICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlTGlzdENvbnRhaW5lcicpOw0KICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBodG1sOw0KICAgIGNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsNCg0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbG9zZUJpbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScpOw0KICB9IGNhdGNoIChlKSB7DQogICAgY29uc29sZS5lcnJvcihlKTsNCiAgICB0b2FzdCgnRXJyb3IgZmV0Y2hpbmcgdXBsb2FkcycpOw0KICB9DQp9KTsNCg0KDQovLyBCdWxrIHNlbGVjdCBhbGwgdmlzaWJsZSBzZWFyY2ggcmVzdWx0cyB3aGVuIHByZXNzaW5nIEVudGVyIGluIHNlYXJjaA0KJCgnc2VhcmNoJykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldikgPT4gew0KICBpZiAoZXYua2V5ID09PSAnRW50ZXInKSB7DQogICAgZXYucHJldmVudERlZmF1bHQoKTsNCiAgICBjb25zdCB2aXNpYmxlSXRlbXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJykpDQogICAgICAuZmlsdGVyKGVsID0+IGVsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJyk7DQogICAgbGV0IGFkZGVkID0gMDsNCiAgICB2aXNpYmxlSXRlbXMuZm9yRWFjaChlbCA9PiB7DQogICAgICBjb25zdCBuYW1lID0gZWwuZGF0YXNldC5uYW1lOw0KICAgICAgY29uc3Qgc2l6ZSA9IGVsLmRhdGFzZXQuc2l6ZTsNCiAgICAgIGlmICghc3RhdGUuc2VsZWN0ZWQuc29tZShzID0+IHMubmFtZSA9PT0gbmFtZSkpIHsNCiAgICAgICAgc3RhdGUuc2VsZWN0ZWQucHVzaCh7IG5hbWUsIHNpemUgfSk7DQogICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7DQogICAgICAgIGFkZGVkKys7DQogICAgICB9DQogICAgfSk7DQogICAgaWYgKGFkZGVkID4gMCkgew0KICAgICAgdXBkYXRlVG90YWxzKCk7DQogICAgICByZW5kZXJPdmVybGF5KCk7DQogICAgICB0b2FzdChgQWRkZWQgJHthZGRlZH0gaXRlbXMgZnJvbSBzZWFyY2ggcmVzdWx0c2ApOw0KICAgIH0gZWxzZSB7DQogICAgICB0b2FzdCgnTm8gbmV3IGl0ZW1zIHRvIGFkZCcpOw0KICAgIH0NCiAgfQ0KfSk7DQoNCiQoJ2NvcHlMaW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogIGNvbnN0IGxpbmsgPSAkKCdzaGFyZWFibGUnKS52YWx1ZTsNCiAgaWYgKCFsaW5rKSB7DQogICAgdG9hc3QoJ05vdGhpbmcgdG8gY29weScpOw0KICAgIHJldHVybjsNCiAgfQ0KICBuYXZpZ2F0b3IuY2xpcGJvYXJkLndyaXRlVGV4dChsaW5rKS50aGVuKCgpID0+IHsNCiAgICB0b2FzdCgnTGluayBjb3BpZWQgdG8gY2xpcGJvYXJkJyk7DQogIH0pLmNhdGNoKCgpID0+IHsNCiAgICBhbGVydCgnQ29weSBmYWlsZWQsIHBsZWFzZSBjb3B5IG1hbnVhbGx5Jyk7DQogIH0pOw0KfSk7DQoNCi8qJCgncmVsb2FkQnRuJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7DQogIGlmIChjb25maXJtKCdSZWxvYWQgdGhlIHBhZ2U/IEFsbCB1bnNhdmVkIHNlbGVjdGlvbnMgd2lsbCBiZSBsb3N0LicpKSB7DQogICAgbG9jYXRpb24ucmVsb2FkKCk7DQogIH0NCn0pOyovDQoNCi8vIGZpbGVuYW1lIHBhcnNlIHVzZWQgaW4gaW1wb3J0DQpmdW5jdGlvbiBwYXJzZUZpbGVuYW1lVG9Db25maWcoZm4peyBjb25zdCBiYXNlID0gZm4ucmVwbGFjZSgvXC4oQ0xJX1BSTVp8UFJNWnx0eHQpJC9pLCcnKTsgY29uc3QgcGFydHMgPSBiYXNlLnNwbGl0KCdfJyk7IGlmKHBhcnRzLmxlbmd0aCA8IDUpIHJldHVybiBudWxsOyBjb25zdCB0b2tlbnMgPSBwYXJ0cy5zbGljZSgwLC0xKTsgbGV0IGNvbnNvbGVUb2tlbj0ndjEnLCBzZFRva2VuPSdzZDAnLCBkcm9pZFRva2VuPSdkcm9pZDAnLCBsaW5Ub2tlbj0nbGluMCc7IGZvcihsZXQgaT10b2tlbnMubGVuZ3RoLTE7aT49MDtpLS0peyBjb25zdCB0ID0gdG9rZW5zW2ldLnRvTG93ZXJDYXNlKCk7IGlmKC9ebGluXGQrJC8udGVzdCh0KSAmJiBsaW5Ub2tlbj09PSdsaW4wJyl7IGxpblRva2VuID0gdDsgdG9rZW5zLnNwbGljZShpLDEpOyB9IGVsc2UgaWYoL15kcm9pZFxkKyQvLnRlc3QodCkgJiYgZHJvaWRUb2tlbj09PSdkcm9pZDAnKXsgZHJvaWRUb2tlbiA9IHQ7IHRva2Vucy5zcGxpY2UoaSwxKTsgfSBlbHNlIGlmKC9ec2RcZCskLy50ZXN0KHQpICYmIHNkVG9rZW49PT0nc2QwJyl7IHNkVG9rZW4gPSB0OyB0b2tlbnMuc3BsaWNlKGksMSk7IH0gZWxzZSBpZigvXih2MXx2MnxsaXRlfG9sZWQpJC8udGVzdCh0KSAmJiBjb25zb2xlVG9rZW49PT0ndjEnKXsgY29uc29sZVRva2VuID0gdDsgdG9rZW5zLnNwbGljZShpLDEpOyB9IH0gY29uc3QgY3VzdG9tZXIgPSB0b2tlbnMuam9pbignXycpfHwnY3VzdG9tZXInOyByZXR1cm4geyBjdXN0b21lciwgY29uc29sZVRva2VuLCBzZFRva2VuLCBkcm9pZFRva2VuLCBsaW5Ub2tlbiB9IH0NCg0KLy8gd2lyZSBmaWxlIGlucHV0IGZvciBpbXBvcnQNCiQoJ2ZpbGVJbicpPy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZXYpPT57IGNvbnN0IGYgPSBldi50YXJnZXQuZmlsZXNbMF07IGlmKCFmKSByZXR1cm47IGNvbnN0IGNmZyA9IHBhcnNlRmlsZW5hbWVUb0NvbmZpZyhmLm5hbWUpOyBpZihjZmcpeyAkKCdjdXN0b21lcicpLnZhbHVlID0gY2ZnLmN1c3RvbWVyOyBBcnJheS5mcm9tKCQoJ2NvbnNvbGUnKS5vcHRpb25zKS5mb3JFYWNoKG89PnsgaWYoby52YWx1ZT09PWNmZy5jb25zb2xlVG9rZW4pIG8uc2VsZWN0ZWQ9dHJ1ZTsgfSk7IGlmKC9ec2RcZCskLy50ZXN0KGNmZy5zZFRva2VuKSkgJCgnc2QnKS52YWx1ZSA9IE51bWJlcihjZmcuc2RUb2tlbi5yZXBsYWNlKC9cRC9nLCcnKSk7IGlmKC9eZHJvaWRcZCskLy50ZXN0KGNmZy5kcm9pZFRva2VuKSkgJCgnYW5kcm9pZCcpLnZhbHVlID0gTnVtYmVyKGNmZy5kcm9pZFRva2VuLnJlcGxhY2UoL1xEL2csJycpKTsgaWYoL15saW5cZCskLy50ZXN0KGNmZy5saW5Ub2tlbikpICQoJ2xpbnV4JykudmFsdWUgPSBOdW1iZXIoY2ZnLmxpblRva2VuLnJlcGxhY2UoL1xEL2csJycpKTsgdXBkYXRlRmlsZW5hbWVQcmV2aWV3KCk7IHVwZGF0ZVRvdGFscygpOyB9DQogIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7IHJlYWRlci5vbmxvYWQgPSAoZSk9PnsgY29uc3QgbGluZXMgPSBlLnRhcmdldC5yZXN1bHQuc3BsaXQoJ1xuJykubWFwKHM9PnMudHJpbSgpKS5maWx0ZXIoQm9vbGVhbik7IHN0YXRlLnNlbGVjdGVkPVtdOyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaXRlbScpLmZvckVhY2goaT0+aS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTsgbGluZXMuZm9yRWFjaCh0aXRsZT0+eyBjb25zdCByb3cgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJykpLmZpbmQoaXQ9PiBpdC5kYXRhc2V0Lm5hbWU9PT10aXRsZSk7IGlmKHJvdyl7IHJvdy5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOyBzdGF0ZS5zZWxlY3RlZC5wdXNoKHsgbmFtZTogcm93LmRhdGFzZXQubmFtZSwgc2l6ZTogcm93LmRhdGFzZXQuc2l6ZSB9KTsgfSBlbHNlIHsgY29uc3QgbWF5YmUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5pdGVtJykpLmZpbmQoaXQ9PiBpdC5kYXRhc2V0Lm5hbWUgJiYgaXQuZGF0YXNldC5uYW1lLnRvTG93ZXJDYXNlKCk9PT10aXRsZS50b0xvd2VyQ2FzZSgpKTsgaWYobWF5YmUpeyBtYXliZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpOyBzdGF0ZS5zZWxlY3RlZC5wdXNoKHsgbmFtZTptYXliZS5kYXRhc2V0Lm5hbWUsIHNpemU6bWF5YmUuZGF0YXNldC5zaXplIH0pOyB9IH0gfSk7IHVwZGF0ZVRvdGFscygpOyByZW5kZXJPdmVybGF5KCk7IH07IHJlYWRlci5yZWFkQXNUZXh0KGYpOyB9KTsNCg0KLy8gaGVscGVycw0KZnVuY3Rpb24gZGVib3VuY2UoZm4sbXM9MjAwKXsgbGV0IGg7IHJldHVybiAoLi4uYSk9PnsgY2xlYXJUaW1lb3V0KGgpOyBoPXNldFRpbWVvdXQoKCk9PmZuKC4uLmEpLG1zKTsgfTsgfQ0KDQovLyBpbml0aWFsIGxvYWQNCihhc3luYyBmdW5jdGlvbiBpbml0KCl7IGF3YWl0IGxvYWRYTUwoKTsgdXBkYXRlVG90YWxzKCk7IHVwZGF0ZUZpbGVuYW1lUHJldmlldygpOyB9KSgpOw0KDQoNCg0KDQpmdW5jdGlvbiByZW5kZXJTZWxlY3RlZFBhbmVsKCkgew0KICBjb25zdCBib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGVkUGFuZWxCb2R5Jyk7DQogIC8vY29uc3QgY291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0ZWRQYW5lbENvdW50Jyk7DQogIGlmICghYm9keSB8fCAhY291bnQpIHJldHVybjsNCg0KICBib2R5LmlubmVySFRNTCA9ICcnOw0KICBzdGF0ZS5zZWxlY3RlZC5mb3JFYWNoKChzLCBpKSA9PiB7DQogICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7DQogICAgcm93LmNsYXNzTmFtZSA9ICdyb3cnOw0KICAgIHJvdy5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnOw0KICAgIHJvdy5zdHlsZS5qdXN0aWZ5Q29udGVudCA9ICdzcGFjZS1iZXR3ZWVuJzsNCiAgICByb3cuc3R5bGUuYWxpZ25JdGVtcyA9ICdjZW50ZXInOw0KICAgIHJvdy5zdHlsZS5wYWRkaW5nID0gJzZweCAwJzsNCiAgICByb3cuaW5uZXJIVE1MID0gYA0KICAgICAgPGRpdj4NCiAgICAgICAgPHN0cm9uZz4ke2kgKyAxfS4gJHtlc2Mocy5uYW1lKX08L3N0cm9uZz4NCiAgICAgICAgPGRpdiBjbGFzcz0ibWV0YSI+JHtlc2Mocy5zaXplKX08L2Rpdj4NCiAgICAgIDwvZGl2Pg0KICAgICAgPGRpdiBzdHlsZT0iZGlzcGxheTpmbGV4O2dhcDo0cHg7Ij4NCiAgICAgICAgPGJ1dHRvbiBjbGFzcz0iaWNvbiB1cCI+4oaRPC9idXR0b24+DQogICAgICAgIDxidXR0b24gY2xhc3M9Imljb24gZG93biI+4oaTPC9idXR0b24+DQogICAgICAgIDxidXR0b24gY2xhc3M9Imljb24gcmVtb3ZlIj7inJU8L2J1dHRvbj4NCiAgICAgIDwvZGl2Pg0KICAgIGA7DQoNCiAgICAvLyBNb3ZlIHVwDQogICAgcm93LnF1ZXJ5U2VsZWN0b3IoJy51cCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gew0KICAgICAgaWYgKGkgPiAwKSB7DQogICAgICAgIFtzdGF0ZS5zZWxlY3RlZFtpIC0gMV0sIHN0YXRlLnNlbGVjdGVkW2ldXSA9IFtzdGF0ZS5zZWxlY3RlZFtpXSwgc3RhdGUuc2VsZWN0ZWRbaSAtIDFdXTsNCiAgICAgICAgcmVuZGVyT3ZlcmxheSgpOw0KICAgICAgICByZW5kZXJMaXN0KHN0YXRlLml0ZW1zKTsNCiAgICAgICAgdXBkYXRlVG90YWxzKCk7DQogICAgICB9DQogICAgfSk7DQoNCiAgICAvLyBNb3ZlIGRvd24NCiAgICByb3cucXVlcnlTZWxlY3RvcignLmRvd24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgIGlmIChpIDwgc3RhdGUuc2VsZWN0ZWQubGVuZ3RoIC0gMSkgew0KICAgICAgICBbc3RhdGUuc2VsZWN0ZWRbaSArIDFdLCBzdGF0ZS5zZWxlY3RlZFtpXV0gPSBbc3RhdGUuc2VsZWN0ZWRbaV0sIHN0YXRlLnNlbGVjdGVkW2kgKyAxXV07DQogICAgICAgIHJlbmRlck92ZXJsYXkoKTsNCiAgICAgICAgcmVuZGVyTGlzdChzdGF0ZS5pdGVtcyk7DQogICAgICAgIHVwZGF0ZVRvdGFscygpOw0KICAgICAgfQ0KICAgIH0pOw0KDQogICAgLy8gUmVtb3ZlDQogICAgcm93LnF1ZXJ5U2VsZWN0b3IoJy5yZW1vdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICAgIHN0YXRlLnNlbGVjdGVkLnNwbGljZShpLCAxKTsNCiAgICAgIHJlbmRlck92ZXJsYXkoKTsNCiAgICAgIHJlbmRlckxpc3Qoc3RhdGUuaXRlbXMpOw0KICAgICAgdXBkYXRlVG90YWxzKCk7DQogICAgfSk7DQoNCiAgICBib2R5LmFwcGVuZENoaWxkKHJvdyk7DQogIH0pOw0KDQogIGNvdW50LnRleHRDb250ZW50ID0gc3RhdGUuc2VsZWN0ZWQubGVuZ3RoOw0KfQ0KDQpjb25zdCB0b2dnbGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlQ29uZmlnJyk7DQpjb25zdCBjb25maWdTZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpZ1NlY3Rpb24nKTsNCg0KDQppZiAoaXNNb2JpbGUgJiYgdG9nZ2xlQnRuICYmIGNvbmZpZ1NlY3Rpb24pIHsNCiAgLy8gU2hvdyBjb25maWcgb25jZSBvbiBmaXJzdCBsb2FkDQogIGNvbmZpZ1NlY3Rpb24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7DQogIHRvZ2dsZUJ0bi50ZXh0Q29udGVudCA9ICdIaWRlIENvbmZpZ3VyYXRpb24nOw0KDQogIHRvZ2dsZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsNCiAgICBjb25zdCBpc1Zpc2libGUgPSBjb25maWdTZWN0aW9uLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpOw0KICAgIHRvZ2dsZUJ0bi50ZXh0Q29udGVudCA9IGlzVmlzaWJsZSA/ICdIaWRlIENvbmZpZ3VyYXRpb24nIDogJ1Nob3cgQ29uZmlndXJhdGlvbic7DQogIH0pOw0KfQ0KZGV0ZWN0RW52aXJvbm1lbnQoKTsNCmlmICghaXNMb2NhbCkgew0KCQ0KICBjb25zdCBhZG1pbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZG1pbkV4cG9ydCcpOw0KICBpZiAoYWRtaW4pIGFkbWluLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQoNCiAgY29uc3QgYmluID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Jpbkxpc3QnKTsNCiAgaWYgKGJpbikgYmluLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQoNCiAgLy9jb25zdCB1cGxvYWQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkQnRuJyk7DQogIC8vaWYgKHVwbG9hZCkgdXBsb2FkLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQoNCn0NCg0KDQo8IS0tIEtlZXAgU2VhcmNoIEJhciBGb2N1c2VkIChEZXNrdG9wIE9ubHksIFNhZmUgZm9yIEN1c3RvbWVyIElucHV0KSAtLT4NCg0KY29uc3Qgc2VhcmNoSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VhcmNoJyk7DQoNCg0KaWYgKCFpc01vYmlsZSkgew0KICBmdW5jdGlvbiByZWZvY3VzU2VhcmNoKCkgew0KICAgIGNvbnN0IGFjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7DQogICAgaWYgKA0KICAgICAgYWN0aXZlICYmDQogICAgICAoYWN0aXZlLmlkID09PSAnY3VzdG9tZXInIHx8DQogICAgICAgYWN0aXZlLnRhZ05hbWUgPT09ICdTRUxFQ1QnIHx8DQogICAgICAgYWN0aXZlLnRhZ05hbWUgPT09ICdURVhUQVJFQScpDQogICAgKSByZXR1cm47DQogICAgc2VhcmNoSW5wdXQuZm9jdXMoKTsNCiAgICBzZWFyY2hJbnB1dC5zZWxlY3QoKTsNCiAgfQ0KDQogIC8vIEZvY3VzIGF0IGxvYWQNCiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCByZWZvY3VzU2VhcmNoKTsNCg0KICAvLyBSZWZvY3VzIGFmdGVyIG5vcm1hbCBjbGlja3MgKG5vdCB3aGVuIG1vZGFsL292ZXJsYXkgb3IgdHlwaW5nIGVsc2V3aGVyZSkNCiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4gew0KICAgIGNvbnN0IG1vZGFsT3BlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlc01vZGFsJykuc3R5bGUuZGlzcGxheSA9PT0gJ2Jsb2NrJzsNCiAgICANCiAgICBjb25zdCBvdmVybGF5T3BlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvdmVybGF5Jykuc3R5bGUuZGlzcGxheSA9PT0gJ2ZsZXgnOw0KICAgIGlmICgNCiAgICAgICFtb2RhbE9wZW4gJiYNCiAgICAgICFvdmVybGF5T3BlbiAmJg0KICAgICAgZS50YXJnZXQuaWQgIT09ICdzZWFyY2gnICYmDQogICAgICBlLnRhcmdldC5pZCAhPT0gJ2N1c3RvbWVyJyAmJg0KICAgICAgIWUudGFyZ2V0LmNsb3Nlc3QoJ3NlbGVjdCcpDQogICAgKSB7DQogICAgICByZWZvY3VzU2VhcmNoKCk7DQogICAgfQ0KICB9KTsNCg0KICAvLyBSZWZvY3VzIGFmdGVyIFVJIGJ1dHRvbiBhY3Rpb25zDQogIFsnY2xlYXJTZWFyY2gnLCAnc2hvd1NlbGVjdGVkJywgJ3NhdmVCdG4nLCAndXBsb2FkQnRuJ10uZm9yRWFjaChpZCA9PiB7DQogICAgY29uc3QgYnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpOw0KICAgIGlmIChidG4pIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlZm9jdXNTZWFyY2gpOw0KICB9KTsNCg0KICAvLyBSZWZvY3VzIGFmdGVyIHNlbGVjdGluZyBhbiBpdGVtDQogIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHsNCiAgICBpZiAoZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpdGVtJykpIHsNCiAgICAgIHNldFRpbWVvdXQocmVmb2N1c1NlYXJjaCwgMTIwKTsNCiAgICB9DQogIH0pOw0KDQogIC8vIFJlZm9jdXMgYWZ0ZXIgY2xvc2luZyBvdmVybGF5IG9yIGZpbGUgbW9kYWwNCiAgWydjbG9zZU92ZXJsYXknXS5mb3JFYWNoKGlkID0+IHsNCiAgICBjb25zdCBidG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7DQogICAgaWYgKGJ0bikgYnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gc2V0VGltZW91dChyZWZvY3VzU2VhcmNoLCAyMDApKTsNCiAgfSk7DQoNCiAgLy8gUmVmb2N1cyBhZnRlciBwcmVzc2luZyBFbnRlciBpbiBzZWFyY2ggKGFkZC10by1saXN0IGV2ZW50KQ0KICBzZWFyY2hJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2KSA9PiB7DQogICAgaWYgKGV2LmtleSA9PT0gJ0VudGVyJykgew0KICAgICAgLy8gV2FpdCBmb3IgeW91ciBhZGQtdG8tbGlzdCBsb2dpYyB0byBmaW5pc2gNCiAgICAgIHNldFRpbWVvdXQocmVmb2N1c1NlYXJjaCwgMTUwKTsNCiAgICB9DQogIH0pOw0KICAvL3Jvdy5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHNob3dGaWxlcyhpdGVtLm5hbWUsIGl0ZW0uZmlsZXMgfHwgW10sIGl0ZW0uc2l6ZSkpOw0KDQp9DQo8L3NjcmlwdD4NCg0KPC9ib2R5Pg0KPC9odG1sPg0K`;
    const decoded = atob(base64html);
    const iframe = document.getElementById('viewer');
    const doc = iframe.contentWindow.document;
    doc.open();
    doc.write(decoded);
    doc.close();
  </script>
</body>
</html>